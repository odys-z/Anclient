<!DOCTYPE html>
<html lang="en" >

<head>
	<meta charset="UTF-8">
	<title>App Portal Login Demo</title>

	<!-- You'd better use these online resources other than those poor Chinese programmers
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
		crossorigin="anonymous"></script>

	<script src="http://www.jeasyui.com/easyui/jquery.easyui.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/icon.css">
	-->
	<script src="./opensources/jquery-3.4.1.min.js"></script>
	<script src="./opensources/easyui-1.8.1/jquery.easyui.min.js"></script>
	<script src="./opensources/jquery.cookie.js" type="text/javascript" charset="utf-8"></script>

	<link rel="stylesheet" type="text/css" href="./opensources/easyui-1.8.1/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="./opensources/easyui-1.8.1/themes/icon.css">
	<link rel="stylesheet" type="text/css" href="app-common/jeasy.css">

	<script src="./lib/anclient-SNAPSHOT.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="app-common/jsampl-easyui.js" type="text/javascript" charset="utf-8"></script>
	<script src="./lib/easyui/jeasy-api.js" type="text/javascript" charset="utf-8"></script>
	<script src="./lib/easyui/jeasy-html.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
  	<div style="width: 80%;height: 100px;position: relative; margin: 0 auto;">
  		<div>JSample/js Demo (EasyUI)</div>
  		<div><a href='https://odys-z.github.io/notes/jclient/quick-start.html#qickstart-jeasy'>
			Doc: JClient/EasyUI Quick Start</a></div>
  	</div>

  	<div style="width: 20em; margin: 0 auto;">
		<div class="login" >
		<div class="login-screen">
			<div class="easyui-panel">
				<div class="easyui-title">
					<h1>JSample Login</h1>
				</div>
				<div>
					<input type="text" class="easyui-textbox" value="admin" placeholder="Login ID" id="userId">
				</div>

				<div>
					<input type="password" class="easyui-passwordbox" value="123456" placeholder="Password" id="pswd">
				</div>

				<a class="easyui-linkbutton" data-options="iconCls:'icon-lock',plain:true"
					href="#" onclick="login_()">login</a>
			</div>
		</div>
		</div>
	</div>

  	<div style="width: 80%;height: 100px;position: relative; margin: 0 auto;">
  		<div>Tip:<br>If this page is opend from file system, this browsing mode can avoid error like CROS etc:</div>
  		<div class='tip-text'>google-chrome --allow-file-access-from-files --allow-file-access --allow-cross-origin-auth-prompt</div>
  	</div>
<script>
	$(document).keypress(function(e){
		if (e.which === 13){
			login_();
		}
	});

	function login_() {
		EasyMsger.init(); // clean error flag, alert message will pop again.
		login($('#userId').val(), $('#pswd').val(),
			function(jclient) {
				window.top.location = "app.html";
			},
			'app.html',
		);
	}
</script>
</body>
</html>
